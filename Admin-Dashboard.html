<!DOCTYPE html>
<html>
<head>
<title>Admin Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
margin:0;
font-family:Arial;
background:linear-gradient(135deg,#020617,#0f172a);
color:white;
padding:20px;
}

.navbar{
height:60px;
display:flex;
justify-content:space-between;
align-items:center;
background:rgba(15,23,42,0.95);
padding:0 20px;
}

.logo{
color:#38bdf8;
font-weight:bold;
text-decoration:none;
}

h1{color:#38bdf8;margin-top:20px;}

.table{
width:100%;
margin-top:20px;
border-collapse:collapse;
background:rgba(255,255,255,0.05);
}

.table th,.table td{
border:1px solid #444;
padding:10px;
text-align:center;
}

button{
padding:6px 12px;
background:#38bdf8;
border:none;
border-radius:6px;
cursor:pointer;
}

button:hover{
background:#0ea5e9;
}
</style>
</head>

<body>

<div class="navbar">
<a href="index.html" class="logo">AMIGOS Admin</a>
<a href="login.html" style="color:white;text-decoration:none;">Logout</a>
</div>

<h1>Pending Distributor Requests</h1>

<table class="table" id="pendingTable">
<tr><th>Name</th><th>Mobile</th><th>Approve</th></tr>
</table>

<h1>Approved Users</h1>

<table class="table" id="approvedTable">
<tr><th>Name</th><th>Mobile</th><th>Role</th></tr>
</table>

<script>

let users=JSON.parse(localStorage.getItem("users"))||[];

let pendingTable=document.getElementById("pendingTable");
let approvedTable=document.getElementById("approvedTable");

users.forEach((u,index)=>{

if(u.role==="distributor" && u.status==="pending"){
pendingTable.innerHTML+=`
<tr>
<td>${u.name}</td>
<td>${u.mobile}</td>
<td><button onclick="approve(${index})">Approve</button></td>
</tr>`;
}

if(u.status==="approved"){
approvedTable.innerHTML+=`
<tr>
<td>${u.name}</td>
<td>${u.mobile}</td>
<td>${u.role}</td>
</tr>`;
}

});

function approve(i){
users[i].status="approved";
localStorage.setItem("users",JSON.stringify(users));
location.reload();
}

</script>

</body>
</html>
