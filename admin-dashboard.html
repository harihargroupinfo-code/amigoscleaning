<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AMIGOS Admin</title>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
body{
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
color:white;
font-family:Arial;
padding:20px;
}
.brand{
display:flex;
align-items:center;
gap:10px;
margin-bottom:20px;
animation:glow 2s infinite alternate;
}
.brand img{height:50px;}
@keyframes glow{
from{color:#00f7ff;}
to{color:white;text-shadow:0 0 15px #00f7ff;}
}
.section{
background:rgba(255,255,255,0.08);
padding:20px;
border-radius:15px;
margin-bottom:25px;
backdrop-filter:blur(10px);
overflow-x:auto;
}
table{
width:100%;
border-collapse:collapse;
}
th,td{
padding:8px;
border-bottom:1px solid rgba(255,255,255,0.2);
}
button{
padding:5px 8px;
border:none;
border-radius:5px;
cursor:pointer;
}
.update{background:#00f7ff;}
</style>
</head>
<body>

<div class="brand">
<img src="image/brand.png">
<h2>AMIGOS Admin Dashboard</h2>
</div>

<!-- ORDER MANAGEMENT -->
<div class="section">
<h3>Order Management</h3>
<table>
<thead>
<tr>
<th>Distributor</th>
<th>Product</th>
<th>Qty</th>
<th>Total</th>
<th>Status</th>
<th>Update</th>
</tr>
</thead>
<tbody id="orderTable"></tbody>
</table>
</div>

<!-- SALES CHART -->
<div class="section">
<h3>Sales Analytics</h3>
<canvas id="salesChart"></canvas>
</div>

<script>

function renderOrders(){
let orders=JSON.parse(localStorage.getItem("orders"))||[];
let html="";
orders.forEach((o,i)=>{
html+=`
<tr>
<td>${o.distributor}</td>
<td>${o.product}</td>
<td>${o.qty}</td>
<td>₹${o.total}</td>
<td>${o.status}</td>
<td>
<button class="update" onclick="updateStatus(${i})">
Mark Delivered
</button>
</td>
</tr>`;
});
document.getElementById("orderTable").innerHTML=html;
renderChart();
}

function updateStatus(index){
let orders=JSON.parse(localStorage.getItem("orders"));
orders[index].status="Delivered";
localStorage.setItem("orders",JSON.stringify(orders));
renderOrders();
}

function renderChart(){
let orders=JSON.parse(localStorage.getItem("orders"))||[];
let salesByDistributor={};

orders.forEach(o=>{
if(o.status=="Delivered"){
salesByDistributor[o.distributor]=(salesByDistributor[o.distributor]||0)+o.total;
}
});

new Chart(document.getElementById("salesChart"),{
type:"bar",
data:{
labels:Object.keys(salesByDistributor),
datasets:[{
label:"Sales ₹",
data:Object.values(salesByDistributor),
backgroundColor:"#00f7ff"
}]
}
});
}

renderOrders();

</script>
</body>
</html>
