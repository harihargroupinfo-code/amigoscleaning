<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AMIGOS Admin Dashboard</title>

<style>
*{
margin:0;
padding:0;
box-sizing:border-box;
font-family:Arial, sans-serif;
}

body{
background: linear-gradient(135deg,#0f2027,#203a43,#2c5364);
min-height:100vh;
color:white;
padding:20px;
}

/* TOP LEFT BRANDING ONLY */
.branding{
display:flex;
align-items:center;
gap:12px;
margin-bottom:30px;
animation: glow 2s infinite alternate;
}

.branding img{
height:50px;
width:auto;
object-fit:contain;
}

.branding span{
font-size:26px;
font-weight:bold;
letter-spacing:2px;
}

@keyframes glow{
from{
color:#00f7ff;
text-shadow:0 0 5px #00f7ff;
}
to{
color:white;
text-shadow:0 0 20px #00f7ff;
}
}

/* GLASS TABLE CONTAINER */
.section{
background:rgba(255,255,255,0.08);
padding:20px;
border-radius:15px;
backdrop-filter:blur(15px);
margin-bottom:30px;
box-shadow:0 0 20px rgba(0,0,0,0.4);
overflow-x:auto;
}

h2{
margin-bottom:15px;
}

/* TABLE DESIGN */
table{
width:100%;
border-collapse:collapse;
min-width:600px;
}

th, td{
padding:12px;
text-align:left;
border-bottom:1px solid rgba(255,255,255,0.2);
}

th{
background:rgba(0,0,0,0.4);
}

tr:hover{
background:rgba(255,255,255,0.05);
}

.deleteBtn{
background:#ff4d4d;
border:none;
padding:6px 10px;
border-radius:5px;
color:white;
cursor:pointer;
}

.deleteBtn:hover{
background:#cc0000;
}

.logout{
background:red;
padding:10px 15px;
border:none;
border-radius:8px;
color:white;
cursor:pointer;
margin-top:10px;
}

@media(max-width:768px){
.branding span{
font-size:20px;
}
table{
font-size:13px;
}
}
</style>
</head>

<body>

<!-- TOP LEFT BRANDING -->
<div class="branding">
<img src="image/brand.png" alt="AMIGOS Logo">
<span>AMIGOS</span>
</div>

<!-- DISTRIBUTOR TABLE -->
<div class="section">
<h2>Distributors</h2>
<table id="distributorTable">
<thead>
<tr>
<th>Name</th>
<th>Mobile</th>
<th>Status</th>
<th>Action</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

<!-- RETAILER TABLE -->
<div class="section">
<h2>Retailers</h2>
<table id="retailerTable">
<thead>
<tr>
<th>Name</th>
<th>Mobile</th>
<th>Action</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

<button class="logout" onclick="logout()">Logout</button>

<script>

function loadUsers(){

let users = JSON.parse(localStorage.getItem("users")) || [];

let distributorBody = document.querySelector("#distributorTable tbody");
let retailerBody = document.querySelector("#retailerTable tbody");

distributorBody.innerHTML="";
retailerBody.innerHTML="";

users.forEach(user=>{

if(user.role==="distributor"){
distributorBody.innerHTML += `
<tr>
<td>${user.name}</td>
<td>${user.mobile}</td>
<td>${user.status}</td>
<td><button class="deleteBtn" onclick="deleteUser('${user.mobile}')">Delete</button></td>
</tr>`;
}

if(user.role==="retailer"){
retailerBody.innerHTML += `
<tr>
<td>${user.name}</td>
<td>${user.mobile}</td>
<td><button class="deleteBtn" onclick="deleteUser('${user.mobile}')">Delete</button></td>
</tr>`;
}

});

}

function deleteUser(mobile){

if(confirm("Are you sure you want to delete this user?")){
if(confirm("This action cannot be undone. Confirm delete?")){

let users = JSON.parse(localStorage.getItem("users")) || [];
users = users.filter(u=>u.mobile!==mobile);
localStorage.setItem("users", JSON.stringify(users));

loadUsers();
}
}

}

function logout(){
window.location.href="login.html";
}

loadUsers();

</script>

</body>
</html>
